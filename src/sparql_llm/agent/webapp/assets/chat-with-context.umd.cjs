(function(In){typeof define=="function"&&define.amd?define(In):In()})(function(){"use strict";const ir=(s,e)=>s===e,or=Symbol("solid-track"),on={equals:ir};let as=ps;const st=1,ln=2,cs={owned:null,cleanups:null,context:null,owner:null};var he=null;let $n=null,lr=null,ae=null,we=null,Je=null,an=0;function cn(s,e){const t=ae,n=he,r=s.length===0,i=e===void 0?n:e,o=r?cs:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=r?s:()=>s(()=>Pt(()=>Ut(o)));he=o,ae=null;try{return zt(l,!0)}finally{ae=t,he=n}}function Ie(s,e){e=e?Object.assign({},on,e):on;const t={value:s,observers:null,observerSlots:null,comparator:e.equals||void 0},n=r=>(typeof r=="function"&&(r=r(t.value)),hs(t,r));return[fs.bind(t),n]}function $e(s,e,t){const n=Dn(s,e,!1,st);Bt(n)}function us(s,e,t){as=fr;const n=Dn(s,e,!1,st);n.user=!0,Je?Je.push(n):Bt(n)}function Dt(s,e,t){t=t?Object.assign({},on,t):on;const n=Dn(s,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=t.equals||void 0,Bt(n),fs.bind(n)}function Pt(s){if(ae===null)return s();const e=ae;ae=null;try{return s()}finally{ae=e}}function ar(s){return he===null||(he.cleanups===null?he.cleanups=[s]:he.cleanups.push(s)),s}function fs(){if(this.sources&&this.state)if(this.state===st)Bt(this);else{const s=we;we=null,zt(()=>fn(this),!1),we=s}if(ae){const s=this.observers?this.observers.length:0;ae.sources?(ae.sources.push(this),ae.sourceSlots.push(s)):(ae.sources=[this],ae.sourceSlots=[s]),this.observers?(this.observers.push(ae),this.observerSlots.push(ae.sources.length-1)):(this.observers=[ae],this.observerSlots=[ae.sources.length-1])}return this.value}function hs(s,e,t){let n=s.value;return(!s.comparator||!s.comparator(n,e))&&(s.value=e,s.observers&&s.observers.length&&zt(()=>{for(let r=0;r<s.observers.length;r+=1){const i=s.observers[r],o=$n&&$n.running;o&&$n.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?we.push(i):Je.push(i),i.observers&&gs(i)),o||(i.state=st)}if(we.length>1e6)throw we=[],new Error},!1)),e}function Bt(s){if(!s.fn)return;Ut(s);const e=an;cr(s,s.value,e)}function cr(s,e,t){let n;const r=he,i=ae;ae=he=s;try{n=s.fn(e)}catch(o){return s.pure&&(s.state=st,s.owned&&s.owned.forEach(Ut),s.owned=null),s.updatedAt=t+1,ds(o)}finally{ae=i,he=r}(!s.updatedAt||s.updatedAt<=t)&&(s.updatedAt!=null&&"observers"in s?hs(s,n):s.value=n,s.updatedAt=t)}function Dn(s,e,t,n=st,r){const i={fn:s,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:he,context:he?he.context:null,pure:t};return he===null||he!==cs&&(he.owned?he.owned.push(i):he.owned=[i]),i}function un(s){if(s.state===0)return;if(s.state===ln)return fn(s);if(s.suspense&&Pt(s.suspense.inFallback))return s.suspense.effects.push(s);const e=[s];for(;(s=s.owner)&&(!s.updatedAt||s.updatedAt<an);)s.state&&e.push(s);for(let t=e.length-1;t>=0;t--)if(s=e[t],s.state===st)Bt(s);else if(s.state===ln){const n=we;we=null,zt(()=>fn(s,e[0]),!1),we=n}}function zt(s,e){if(we)return s();let t=!1;e||(we=[]),Je?t=!0:Je=[],an++;try{const n=s();return ur(t),n}catch(n){t||(Je=null),we=null,ds(n)}}function ur(s){if(we&&(ps(we),we=null),s)return;const e=Je;Je=null,e.length&&zt(()=>as(e),!1)}function ps(s){for(let e=0;e<s.length;e++)un(s[e])}function fr(s){let e,t=0;for(e=0;e<s.length;e++){const n=s[e];n.user?s[t++]=n:un(n)}for(e=0;e<t;e++)un(s[e])}function fn(s,e){s.state=0;for(let t=0;t<s.sources.length;t+=1){const n=s.sources[t];if(n.sources){const r=n.state;r===st?n!==e&&(!n.updatedAt||n.updatedAt<an)&&un(n):r===ln&&fn(n,e)}}}function gs(s){for(let e=0;e<s.observers.length;e+=1){const t=s.observers[e];t.state||(t.state=ln,t.pure?we.push(t):Je.push(t),t.observers&&gs(t))}}function Ut(s){let e;if(s.sources)for(;s.sources.length;){const t=s.sources.pop(),n=s.sourceSlots.pop(),r=t.observers;if(r&&r.length){const i=r.pop(),o=t.observerSlots.pop();n<r.length&&(i.sourceSlots[o]=n,r[n]=i,t.observerSlots[n]=o)}}if(s.tOwned){for(e=s.tOwned.length-1;e>=0;e--)Ut(s.tOwned[e]);delete s.tOwned}if(s.owned){for(e=s.owned.length-1;e>=0;e--)Ut(s.owned[e]);s.owned=null}if(s.cleanups){for(e=s.cleanups.length-1;e>=0;e--)s.cleanups[e]();s.cleanups=null}s.state=0}function hr(s){return s instanceof Error?s:new Error(typeof s=="string"?s:"Unknown error",{cause:s})}function ds(s,e=he){throw hr(s)}const pr=Symbol("fallback");function bs(s){for(let e=0;e<s.length;e++)s[e]()}function gr(s,e,t={}){let n=[],r=[],i=[],o=0,l=e.length>1?[]:null;return ar(()=>bs(i)),()=>{let f=s()||[],h=f.length,g,p;return f[or],Pt(()=>{let R,L,x,Z,te,ne,j,I,X;if(h===0)o!==0&&(bs(i),i=[],n=[],r=[],o=0,l&&(l=[])),t.fallback&&(n=[pr],r[0]=cn(ke=>(i[0]=ke,t.fallback())),o=1);else if(o===0){for(r=new Array(h),p=0;p<h;p++)n[p]=f[p],r[p]=cn(M);o=h}else{for(x=new Array(h),Z=new Array(h),l&&(te=new Array(h)),ne=0,j=Math.min(o,h);ne<j&&n[ne]===f[ne];ne++);for(j=o-1,I=h-1;j>=ne&&I>=ne&&n[j]===f[I];j--,I--)x[I]=r[j],Z[I]=i[j],l&&(te[I]=l[j]);for(R=new Map,L=new Array(I+1),p=I;p>=ne;p--)X=f[p],g=R.get(X),L[p]=g===void 0?-1:g,R.set(X,p);for(g=ne;g<=j;g++)X=n[g],p=R.get(X),p!==void 0&&p!==-1?(x[p]=r[g],Z[p]=i[g],l&&(te[p]=l[g]),p=L[p],R.set(X,p)):i[g]();for(p=ne;p<h;p++)p in x?(r[p]=x[p],i[p]=Z[p],l&&(l[p]=te[p],l[p](p))):r[p]=cn(M);r=r.slice(0,o=h),n=f.slice(0)}return r});function M(R){if(i[p]=R,l){const[L,x]=Ie(p);return l[p]=x,e(f[p],L)}return e(f[p])}}}function yt(s,e){return Pt(()=>s(e||{}))}function Tt(s){const e="fallback"in s&&{fallback:()=>s.fallback};return Dt(gr(()=>s.each,s.children,e||void 0))}function dr(s,e,t){let n=t.length,r=e.length,i=n,o=0,l=0,f=e[r-1].nextSibling,h=null;for(;o<r||l<i;){if(e[o]===t[l]){o++,l++;continue}for(;e[r-1]===t[i-1];)r--,i--;if(r===o){const g=i<n?l?t[l-1].nextSibling:t[i-l]:f;for(;l<i;)s.insertBefore(t[l++],g)}else if(i===l)for(;o<r;)(!h||!h.has(e[o]))&&e[o].remove(),o++;else if(e[o]===t[i-1]&&t[l]===e[r-1]){const g=e[--r].nextSibling;s.insertBefore(t[l++],e[o++].nextSibling),s.insertBefore(t[--i],g),e[r]=t[i]}else{if(!h){h=new Map;let p=l;for(;p<i;)h.set(t[p],p++)}const g=h.get(e[o]);if(g!=null)if(l<g&&g<i){let p=o,M=1,R;for(;++p<r&&p<i&&!((R=h.get(e[p]))==null||R!==g+M);)M++;if(M>g-l){const L=e[o];for(;l<g;)s.insertBefore(t[l++],L)}else s.replaceChild(t[l++],e[o++])}else o++;else e[o++].remove()}}}const ms="_$DX_DELEGATE";function xe(s,e,t,n){let r;const i=()=>{const l=document.createElement("template");return l.innerHTML=s,l.content.firstChild},o=()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function br(s,e=window.document){const t=e[ms]||(e[ms]=new Set);for(let n=0,r=s.length;n<r;n++){const i=s[n];t.has(i)||(t.add(i),e.addEventListener(i,mr))}}function pe(s,e,t){t==null?s.removeAttribute(e):s.setAttribute(e,t)}function At(s,e){e==null?s.removeAttribute("class"):s.className=e}function _s(s,e,t){return Pt(()=>s(e,t))}function ge(s,e,t,n){if(t!==void 0&&!n&&(n=[]),typeof e!="function")return hn(s,e,n,t);$e(r=>hn(s,e(),r,t),n)}function mr(s){let e=s.target;const t=`$$${s.type}`,n=s.target,r=s.currentTarget,i=f=>Object.defineProperty(s,"target",{configurable:!0,value:f}),o=()=>{const f=e[t];if(f&&!e.disabled){const h=e[`${t}Data`];if(h!==void 0?f.call(e,h,s):f.call(e,s),s.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(s.target)&&i(e.host),!0},l=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(s,"currentTarget",{configurable:!0,get(){return e||document}}),s.composedPath){const f=s.composedPath();i(f[0]);for(let h=0;h<f.length-2&&(e=f[h],!!o());h++){if(e._$host){e=e._$host,l();break}if(e.parentNode===r)break}}else l();i(n)}function hn(s,e,t,n,r){for(;typeof t=="function";)t=t();if(e===t)return t;const i=typeof e,o=n!==void 0;if(s=o&&t[0]&&t[0].parentNode||s,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===t))return t;if(o){let l=t[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),t=St(s,t,n,l)}else t!==""&&typeof t=="string"?t=s.firstChild.data=e:t=s.textContent=e}else if(e==null||i==="boolean")t=St(s,t,n);else{if(i==="function")return $e(()=>{let l=e();for(;typeof l=="function";)l=l();t=hn(s,l,t,n)}),()=>t;if(Array.isArray(e)){const l=[],f=t&&Array.isArray(t);if(Pn(l,e,t,r))return $e(()=>t=hn(s,l,t,n,!0)),()=>t;if(l.length===0){if(t=St(s,t,n),o)return t}else f?t.length===0?ws(s,l,n):dr(s,t,l):(t&&St(s),ws(s,l));t=l}else if(e.nodeType){if(Array.isArray(t)){if(o)return t=St(s,t,n,e);St(s,t,null,e)}else t==null||t===""||!s.firstChild?s.appendChild(e):s.replaceChild(e,s.firstChild);t=e}}return t}function Pn(s,e,t,n){let r=!1;for(let i=0,o=e.length;i<o;i++){let l=e[i],f=t&&t[s.length],h;if(!(l==null||l===!0||l===!1))if((h=typeof l)=="object"&&l.nodeType)s.push(l);else if(Array.isArray(l))r=Pn(s,l,f)||r;else if(h==="function")if(n){for(;typeof l=="function";)l=l();r=Pn(s,Array.isArray(l)?l:[l],Array.isArray(f)?f:[f])||r}else s.push(l),r=!0;else{const g=String(l);f&&f.nodeType===3&&f.data===g?s.push(f):s.push(document.createTextNode(g))}}return r}function ws(s,e,t=null){for(let n=0,r=e.length;n<r;n++)s.insertBefore(e[n],t)}function St(s,e,t,n){if(t===void 0)return s.textContent="";const r=n||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const l=e[o];if(r!==l){const f=l.parentNode===s;!i&&!o?f?s.replaceChild(r,l):s.insertBefore(r,t):f&&l.remove()}else i=!0}}else s.insertBefore(r,t);return[r]}function _r(s){return Object.keys(s).reduce((t,n)=>{const r=s[n];return t[n]=Object.assign({},r),Es(r.value)&&!yr(r.value)&&!Array.isArray(r.value)&&(t[n].value=Object.assign({},r.value)),Array.isArray(r.value)&&(t[n].value=r.value.slice(0)),t},{})}function wr(s){return s?Object.keys(s).reduce((t,n)=>{const r=s[n];return t[n]=Es(r)&&"value"in r?r:{value:r},t[n].attribute||(t[n].attribute=Er(n)),t[n].parse="parse"in t[n]?t[n].parse:typeof t[n].value!="string",t},{}):{}}function xr(s){return Object.keys(s).reduce((t,n)=>(t[n]=s[n].value,t),{})}function kr(s,e){const t=_r(e);return Object.keys(e).forEach(r=>{const i=t[r],o=s.getAttribute(i.attribute),l=s[r];o!=null&&(i.value=i.parse?xs(o):o),l!=null&&(i.value=Array.isArray(l)?l.slice(0):l),i.reflect&&ks(s,i.attribute,i.value,!!i.parse),Object.defineProperty(s,r,{get(){return i.value},set(f){const h=i.value;i.value=f,i.reflect&&ks(this,i.attribute,i.value,!!i.parse);for(let g=0,p=this.__propertyChangedCallbacks.length;g<p;g++)this.__propertyChangedCallbacks[g](r,f,h)},enumerable:!0,configurable:!0})}),t}function xs(s){if(s)try{return JSON.parse(s)}catch{return s}}function ks(s,e,t,n){if(t==null||t===!1)return s.removeAttribute(e);let r=n?JSON.stringify(t):t;s.__updating[e]=!0,r==="true"&&(r=""),s.setAttribute(e,r),Promise.resolve().then(()=>delete s.__updating[e])}function Er(s){return s.replace(/\.?([A-Z]+)/g,(e,t)=>"-"+t.toLowerCase()).replace("_","-").replace(/^-/,"")}function Es(s){return s!=null&&(typeof s=="object"||typeof s=="function")}function yr(s){return Object.prototype.toString.call(s)==="[object Function]"}function Tr(s){return typeof s=="function"&&s.toString().indexOf("class")===0}let Ht;function Ar(){Object.defineProperty(Ht,"renderRoot",{value:Ht})}function Sr(s,e){const t=Object.keys(e);return class extends s{static get observedAttributes(){return t.map(r=>e[r].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=kr(this,e);const r=xr(this.props),i=this.Component,o=Ht;try{Ht=this,this.__initialized=!0,Tr(i)?new i(r,{element:this}):i(r,{element:this})}finally{Ht=o}}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let r=null;for(;r=this.__releaseCallbacks.pop();)r(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(r,i,o){if(this.__initialized&&!this.__updating[r]&&(r=this.lookupProp(r),r in e)){if(o==null&&!this[r])return;this[r]=e[r].parse?xs(o):o}}lookupProp(r){if(e)return t.find(i=>r===i||r===e[i].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(r){this.__releaseCallbacks.push(r)}addPropertyChangedCallback(r){this.__propertyChangedCallbacks.push(r)}}}function Rr(s,e={},t={}){const{BaseElement:n=HTMLElement,extension:r,customElements:i=window.customElements}=t;return o=>{let l=i.get(s);return l?(l.prototype.Component=o,l):(l=Sr(n,wr(e)),l.prototype.Component=o,l.prototype.registeredTag=s,i.define(s,l,r),l)}}function vr(s){const e=Object.keys(s),t={};for(let n=0;n<e.length;n++){const[r,i]=Ie(s[e[n]]);Object.defineProperty(t,e[n],{get:r,set(o){i(()=>o)}})}return t}function Cr(s){if(s.assignedSlot&&s.assignedSlot._$owner)return s.assignedSlot._$owner;let e=s.parentNode;for(;e&&!e._$owner&&!(e.assignedSlot&&e.assignedSlot._$owner);)e=e.parentNode;return e&&e.assignedSlot?e.assignedSlot._$owner:s._$owner}function Or(s){return(e,t)=>{const{element:n}=t;return cn(r=>{const i=vr(e);n.addPropertyChangedCallback((l,f)=>i[l]=f),n.addReleaseCallback(()=>{n.renderRoot.textContent="",r()});const o=s(i,t);return ge(n.renderRoot,o)},Cr(n))}}function Mr(s,e,t){return arguments.length===2&&(t=e,e={}),Rr(s,e)(Or(t))}function Bn(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ht=Bn();function ys(s){ht=s}const Ft={exec:()=>null};function Y(s,e=""){let t=typeof s=="string"?s:s.source;const n={replace:(r,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(Ce.caret,"$1"),t=t.replace(r,o),n},getRegex:()=>new RegExp(t,e)};return n}const Ce={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:s=>new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}#`),htmlBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}<(?:[a-z].*>|!--)`,"i")},Nr=/^(?:[ \t]*(?:\n|$))+/,Lr=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ir=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,jt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,$r=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ts=/(?:[*+-]|\d{1,9}[.)])/,As=Y(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ts).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),zn=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Dr=/^[^\n]+/,Un=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Pr=Y(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Un).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Br=Y(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ts).getRegex(),pn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Hn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,zr=Y("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Hn).replace("tag",pn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ss=Y(zn).replace("hr",jt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pn).getRegex(),Fn={blockquote:Y(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ss).getRegex(),code:Lr,def:Pr,fences:Ir,heading:$r,hr:jt,html:zr,lheading:As,list:Br,newline:Nr,paragraph:Ss,table:Ft,text:Dr},Rs=Y("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",jt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pn).getRegex(),Ur={...Fn,table:Rs,paragraph:Y(zn).replace("hr",jt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Rs).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pn).getRegex()},Hr={...Fn,html:Y(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Hn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ft,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Y(zn).replace("hr",jt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",As).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},vs=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Fr=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Cs=/^( {2,}|\\)\n(?!\s*$)/,jr=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,gn=/[\p{P}\p{S}]/u,jn=/[\s\p{P}\p{S}]/u,Os=/[^\s\p{P}\p{S}]/u,Gr=Y(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,jn).getRegex(),qr=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Wr=Y(/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,"u").replace(/punct/g,gn).getRegex(),Kr=Y("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)","gu").replace(/notPunctSpace/g,Os).replace(/punctSpace/g,jn).replace(/punct/g,gn).getRegex(),Yr=Y("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Os).replace(/punctSpace/g,jn).replace(/punct/g,gn).getRegex(),Zr=Y(/\\(punct)/,"gu").replace(/punct/g,gn).getRegex(),Xr=Y(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Vr=Y(Hn).replace("(?:-->|$)","-->").getRegex(),Qr=Y("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Vr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),dn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Jr=Y(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",dn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ms=Y(/^!?\[(label)\]\[(ref)\]/).replace("label",dn).replace("ref",Un).getRegex(),Ns=Y(/^!?\[(ref)\](?:\[\])?/).replace("ref",Un).getRegex(),ei=Y("reflink|nolink(?!\\()","g").replace("reflink",Ms).replace("nolink",Ns).getRegex(),Gn={_backpedal:Ft,anyPunctuation:Zr,autolink:Xr,blockSkip:qr,br:Cs,code:Fr,del:Ft,emStrongLDelim:Wr,emStrongRDelimAst:Kr,emStrongRDelimUnd:Yr,escape:vs,link:Jr,nolink:Ns,punctuation:Gr,reflink:Ms,reflinkSearch:ei,tag:Qr,text:jr,url:Ft},ti={...Gn,link:Y(/^!?\[(label)\]\((.*?)\)/).replace("label",dn).getRegex(),reflink:Y(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",dn).getRegex()},qn={...Gn,escape:Y(vs).replace("])","~|])").getRegex(),url:Y(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ni={...qn,br:Y(Cs).replace("{2,}","*").getRegex(),text:Y(qn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},bn={normal:Fn,gfm:Ur,pedantic:Hr},Gt={normal:Gn,gfm:qn,breaks:ni,pedantic:ti},si={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ls=s=>si[s];function Xe(s,e){if(e){if(Ce.escapeTest.test(s))return s.replace(Ce.escapeReplace,Ls)}else if(Ce.escapeTestNoEncode.test(s))return s.replace(Ce.escapeReplaceNoEncode,Ls);return s}function Is(s){try{s=encodeURI(s).replace(Ce.percentDecode,"%")}catch{return null}return s}function $s(s,e){const t=s.replace(Ce.findPipe,(i,o,l)=>{let f=!1,h=o;for(;--h>=0&&l[h]==="\\";)f=!f;return f?"|":" |"}),n=t.split(Ce.splitPipe);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(Ce.slashPipe,"|");return n}function qt(s,e,t){const n=s.length;if(n===0)return"";let r=0;for(;r<n&&s.charAt(n-r-1)===e;)r++;return s.slice(0,n-r)}function ri(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<s.length;n++)if(s[n]==="\\")n++;else if(s[n]===e[0])t++;else if(s[n]===e[1]&&(t--,t<0))return n;return-1}function Ds(s,e,t,n,r){const i=e.href,o=e.title||null,l=s[1].replace(r.other.outputLinkReplace,"$1");if(s[0].charAt(0)!=="!"){n.state.inLink=!0;const f={type:"link",raw:t,href:i,title:o,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,f}return{type:"image",raw:t,href:i,title:o,text:l}}function ii(s,e,t){const n=s.match(t.other.indentCodeCompensation);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const o=i.match(t.other.beginningSpace);if(o===null)return i;const[l]=o;return l.length>=r.length?i.slice(r.length):i}).join(`
`)}class mn{options;rules;lexer;constructor(e){this.options=e||ht}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:qt(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=ii(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=qt(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:qt(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=qt(t[0],`
`).split(`
`),r="",i="";const o=[];for(;n.length>0;){let l=!1;const f=[];let h;for(h=0;h<n.length;h++)if(this.rules.other.blockquoteStart.test(n[h]))f.push(n[h]),l=!0;else if(!l)f.push(n[h]);else break;n=n.slice(h);const g=f.join(`
`),p=g.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${g}`:g,i=i?`${i}
${p}`:p;const M=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,o,!0),this.lexer.state.top=M,n.length===0)break;const R=o.at(-1);if(R?.type==="code")break;if(R?.type==="blockquote"){const L=R,x=L.raw+`
`+n.join(`
`),Z=this.blockquote(x);o[o.length-1]=Z,r=r.substring(0,r.length-L.raw.length)+Z.raw,i=i.substring(0,i.length-L.text.length)+Z.text;break}else if(R?.type==="list"){const L=R,x=L.raw+`
`+n.join(`
`),Z=this.list(x);o[o.length-1]=Z,r=r.substring(0,r.length-R.raw.length)+Z.raw,i=i.substring(0,i.length-L.raw.length)+Z.raw,n=x.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const o=this.rules.other.listItemRegex(n);let l=!1;for(;e;){let h=!1,g="",p="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;g=t[0],e=e.substring(g.length);let M=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,ne=>" ".repeat(3*ne.length)),R=e.split(`
`,1)[0],L=!M.trim(),x=0;if(this.options.pedantic?(x=2,p=M.trimStart()):L?x=t[1].length+1:(x=t[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,p=M.slice(x),x+=t[1].length),L&&this.rules.other.blankLine.test(R)&&(g+=R+`
`,e=e.substring(R.length+1),h=!0),!h){const ne=this.rules.other.nextBulletRegex(x),j=this.rules.other.hrRegex(x),I=this.rules.other.fencesBeginRegex(x),X=this.rules.other.headingBeginRegex(x),ke=this.rules.other.htmlBeginRegex(x);for(;e;){const Ee=e.split(`
`,1)[0];let D;if(R=Ee,this.options.pedantic?(R=R.replace(this.rules.other.listReplaceNesting,"  "),D=R):D=R.replace(this.rules.other.tabCharGlobal,"    "),I.test(R)||X.test(R)||ke.test(R)||ne.test(R)||j.test(R))break;if(D.search(this.rules.other.nonSpaceChar)>=x||!R.trim())p+=`
`+D.slice(x);else{if(L||M.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||I.test(M)||X.test(M)||j.test(M))break;p+=`
`+R}!L&&!R.trim()&&(L=!0),g+=Ee+`
`,e=e.substring(Ee.length+1),M=D.slice(x)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(g)&&(l=!0));let Z=null,te;this.options.gfm&&(Z=this.rules.other.listIsTask.exec(p),Z&&(te=Z[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:g,task:!!Z,checked:te,loose:!1,text:p,tokens:[]}),i.raw+=g}const f=i.items.at(-1);f&&(f.raw=f.raw.trimEnd(),f.text=f.text.trimEnd()),i.raw=i.raw.trimEnd();for(let h=0;h<i.items.length;h++)if(this.lexer.state.top=!1,i.items[h].tokens=this.lexer.blockTokens(i.items[h].text,[]),!i.loose){const g=i.items[h].tokens.filter(M=>M.type==="space"),p=g.length>0&&g.some(M=>this.rules.other.anyLine.test(M.raw));i.loose=p}if(i.loose)for(let h=0;h<i.items.length;h++)i.items[h].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=$s(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const l of r)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<n.length;l++)o.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:o.align[l]});for(const l of i)o.rows.push($s(l,o.header.length).map((f,h)=>({text:f,tokens:this.lexer.inline(f),header:!1,align:o.align[h]})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const o=qt(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=ri(t[2],"()");if(o>-1){const f=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,f).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(r);o&&(r=o[1],i=o[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Ds(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return Ds(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...r[0]].length-1;let l,f,h=o,g=0;const p=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+o);(r=p.exec(t))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(f=[...l].length,r[3]||r[4]){h+=f;continue}else if((r[5]||r[6])&&o%3&&!((o+f)%3)){g+=f;continue}if(h-=f,h>0)continue;f=Math.min(f,f+h+g);const M=[...r[0]][0].length,R=e.slice(0,o+r.index+M+f);if(Math.min(o,f)%2){const x=R.slice(1,-1);return{type:"em",raw:R,text:x,tokens:this.lexer.inlineTokens(x)}}const L=R.slice(2,-2);return{type:"strong",raw:R,text:L,tokens:this.lexer.inlineTokens(L)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=t[0],r="mailto:"+n;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);n=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}}class Ue{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ht,this.options.tokenizer=this.options.tokenizer||new mn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Ce,block:bn.normal,inline:Gt.normal};this.options.pedantic?(t.block=bn.pedantic,t.inline=Gt.pedantic):this.options.gfm&&(t.block=bn.gfm,this.options.breaks?t.inline=Gt.breaks:t.inline=Gt.gfm),this.tokenizer.rules=t}static get rules(){return{block:bn,inline:Gt}}static lex(e,t){return new Ue(t).lex(e)}static lexInline(e,t){return new Ue(t).inlineTokens(e)}lex(e){e=e.replace(Ce.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(Ce.tabCharGlobal,"    ").replace(Ce.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(o=>(r=o.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);const o=t.at(-1);r.raw.length===1&&o!==void 0?o.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);const o=t.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.at(-1).src=o.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);const o=t.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let o=1/0;const l=e.slice(1);let f;this.options.extensions.startBlock.forEach(h=>{f=h.call({lexer:this},l),typeof f=="number"&&f>=0&&(o=Math.min(o,f))}),o<1/0&&o>=0&&(i=e.substring(0,o+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){const o=t.at(-1);n&&o?.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);const o=t.at(-1);o?.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(r);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)l.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let l;if(this.options.extensions?.inline?.some(h=>(l=h.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const h=t.at(-1);l.type==="text"&&h?.type==="text"?(h.raw+=l.raw,h.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(e,n,o)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),t.push(l);continue}let f=e;if(this.options.extensions?.startInline){let h=1/0;const g=e.slice(1);let p;this.options.extensions.startInline.forEach(M=>{p=M.call({lexer:this},g),typeof p=="number"&&p>=0&&(h=Math.min(h,p))}),h<1/0&&h>=0&&(f=e.substring(0,h+1))}if(l=this.tokenizer.inlineText(f)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),i=!0;const h=t.at(-1);h?.type==="text"?(h.raw+=l.raw,h.text+=l.text):t.push(l);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return t}}class _n{options;parser;constructor(e){this.options=e||ht}space(e){return""}code({text:e,lang:t,escaped:n}){const r=(t||"").match(Ce.notSpaceStart)?.[0],i=e.replace(Ce.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Xe(r)+'">'+(n?i:Xe(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:Xe(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let l=0;l<e.items.length;l++){const f=e.items[l];r+=this.listitem(f)}const i=t?"ol":"ul",o=t&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+Xe(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){const o=e.rows[i];n="";for(let l=0;l<o.length;l++)n+=this.tablecell(o[l]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Xe(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),i=Is(e);if(i===null)return r;e=i;let o='<a href="'+e+'"';return t&&(o+=' title="'+Xe(t)+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:n}){const r=Is(e);if(r===null)return Xe(n);e=r;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${Xe(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Xe(e.text)}}class Wn{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class He{options;renderer;textRenderer;constructor(e){this.options=e||ht,this.options.renderer=this.options.renderer||new _n,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Wn}static parse(e,t){return new He(t).parse(e)}static parseInline(e,t){return new He(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions?.renderers?.[i.type]){const l=i,f=this.options.extensions.renderers[l.type].call({parser:this},l);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){n+=f||"";continue}}const o=i;switch(o.type){case"space":{n+=this.renderer.space(o);continue}case"hr":{n+=this.renderer.hr(o);continue}case"heading":{n+=this.renderer.heading(o);continue}case"code":{n+=this.renderer.code(o);continue}case"table":{n+=this.renderer.table(o);continue}case"blockquote":{n+=this.renderer.blockquote(o);continue}case"list":{n+=this.renderer.list(o);continue}case"html":{n+=this.renderer.html(o);continue}case"paragraph":{n+=this.renderer.paragraph(o);continue}case"text":{let l=o,f=this.renderer.text(l);for(;r+1<e.length&&e[r+1].type==="text";)l=e[++r],f+=`
`+this.renderer.text(l);t?n+=this.renderer.paragraph({type:"paragraph",raw:f,text:f,tokens:[{type:"text",raw:f,text:f,escaped:!0}]}):n+=f;continue}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions?.renderers?.[i.type]){const l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=l||"";continue}}const o=i;switch(o.type){case"escape":{n+=t.text(o);break}case"html":{n+=t.html(o);break}case"link":{n+=t.link(o);break}case"image":{n+=t.image(o);break}case"strong":{n+=t.strong(o);break}case"em":{n+=t.em(o);break}case"codespan":{n+=t.codespan(o);break}case"br":{n+=t.br(o);break}case"del":{n+=t.del(o);break}case"text":{n+=t.text(o);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}}class wn{options;block;constructor(e){this.options=e||ht}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Ue.lex:Ue.lexInline}provideParser(){return this.block?He.parse:He.parseInline}}class oi{defaults=Bn();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=He;Renderer=_n;TextRenderer=Wn;Lexer=Ue;Tokenizer=mn;Hooks=wn;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const i=r;for(const o of i.header)n=n.concat(this.walkTokens(o.tokens,t));for(const o of i.rows)for(const l of o)n=n.concat(this.walkTokens(l.tokens,t));break}case"list":{const i=r;n=n.concat(this.walkTokens(i.items,t));break}default:{const i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(o=>{const l=i[o].flat(1/0);n=n.concat(this.walkTokens(l,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=t.renderers[i.name];o?t.renderers[i.name]=function(...l){let f=i.renderer.apply(this,l);return f===!1&&(f=o.apply(this,l)),f}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[i.level];o?o.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){const i=this.defaults.renderer||new _n(this.defaults);for(const o in n.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const l=o,f=n.renderer[l],h=i[l];i[l]=(...g)=>{let p=f.apply(i,g);return p===!1&&(p=h.apply(i,g)),p||""}}r.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new mn(this.defaults);for(const o in n.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,f=n.tokenizer[l],h=i[l];i[l]=(...g)=>{let p=f.apply(i,g);return p===!1&&(p=h.apply(i,g)),p}}r.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new wn;for(const o in n.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const l=o,f=n.hooks[l],h=i[l];wn.passThroughHooks.has(o)?i[l]=g=>{if(this.defaults.async)return Promise.resolve(f.call(i,g)).then(M=>h.call(i,M));const p=f.call(i,g);return h.call(i,p)}:i[l]=(...g)=>{let p=f.apply(i,g);return p===!1&&(p=h.apply(i,g)),p}}r.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,o=n.walkTokens;r.walkTokens=function(l){let f=[];return f.push(o.call(this,l)),i&&(f=f.concat(i.call(this,l))),f}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ue.lex(e,t??this.defaults)}parser(e,t){return He.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{const i={...r},o={...this.defaults,...i},l=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const f=o.hooks?o.hooks.provideLexer():e?Ue.lex:Ue.lexInline,h=o.hooks?o.hooks.provideParser():e?He.parse:He.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(g=>f(g,o)).then(g=>o.hooks?o.hooks.processAllTokens(g):g).then(g=>o.walkTokens?Promise.all(this.walkTokens(g,o.walkTokens)).then(()=>g):g).then(g=>h(g,o)).then(g=>o.hooks?o.hooks.postprocess(g):g).catch(l);try{o.hooks&&(n=o.hooks.preprocess(n));let g=f(n,o);o.hooks&&(g=o.hooks.processAllTokens(g)),o.walkTokens&&this.walkTokens(g,o.walkTokens);let p=h(g,o);return o.hooks&&(p=o.hooks.postprocess(p)),p}catch(g){return l(g)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+Xe(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}}const pt=new oi;function H(s,e){return pt.parse(s,e)}H.options=H.setOptions=function(s){return pt.setOptions(s),H.defaults=pt.defaults,ys(H.defaults),H},H.getDefaults=Bn,H.defaults=ht,H.use=function(...s){return pt.use(...s),H.defaults=pt.defaults,ys(H.defaults),H},H.walkTokens=function(s,e){return pt.walkTokens(s,e)},H.parseInline=pt.parseInline,H.Parser=He,H.parser=He.parse,H.Renderer=_n,H.TextRenderer=Wn,H.Lexer=Ue,H.lexer=Ue.lex,H.Tokenizer=mn,H.Hooks=wn,H.parse=H,H.options,H.setOptions,H.use,H.walkTokens,H.parseInline,He.parse,Ue.lex;/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:Ps,setPrototypeOf:Bs,isFrozen:li,getPrototypeOf:ai,getOwnPropertyDescriptor:ci}=Object;let{freeze:Oe,seal:Fe,create:zs}=Object,{apply:Kn,construct:Yn}=typeof Reflect<"u"&&Reflect;Oe||(Oe=function(e){return e}),Fe||(Fe=function(e){return e}),Kn||(Kn=function(e,t,n){return e.apply(t,n)}),Yn||(Yn=function(e,t){return new e(...t)});const xn=Ne(Array.prototype.forEach),ui=Ne(Array.prototype.lastIndexOf),Us=Ne(Array.prototype.pop),Wt=Ne(Array.prototype.push),fi=Ne(Array.prototype.splice),kn=Ne(String.prototype.toLowerCase),Zn=Ne(String.prototype.toString),Hs=Ne(String.prototype.match),Kt=Ne(String.prototype.replace),hi=Ne(String.prototype.indexOf),pi=Ne(String.prototype.trim),We=Ne(Object.prototype.hasOwnProperty),Me=Ne(RegExp.prototype.test),Yt=gi(TypeError);function Ne(s){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kn(s,e,n)}}function gi(s){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yn(s,t)}}function $(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kn;Bs&&Bs(s,null);let n=e.length;for(;n--;){let r=e[n];if(typeof r=="string"){const i=t(r);i!==r&&(li(e)||(e[n]=i),r=i)}s[r]=!0}return s}function di(s){for(let e=0;e<s.length;e++)We(s,e)||(s[e]=null);return s}function gt(s){const e=zs(null);for(const[t,n]of Ps(s))We(s,t)&&(Array.isArray(n)?e[t]=di(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=gt(n):e[t]=n);return e}function Zt(s,e){for(;s!==null;){const n=ci(s,e);if(n){if(n.get)return Ne(n.get);if(typeof n.value=="function")return Ne(n.value)}s=ai(s)}function t(){return null}return t}const Fs=Oe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xn=Oe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Vn=Oe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bi=Oe(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qn=Oe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mi=Oe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),js=Oe(["#text"]),Gs=Oe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Jn=Oe(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qs=Oe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),En=Oe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_i=Fe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wi=Fe(/<%[\w\W]*|[\w\W]*%>/gm),xi=Fe(/\$\{[\w\W]*/gm),ki=Fe(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ei=Fe(/^aria-[\-\w]+$/),Ws=Fe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yi=Fe(/^(?:\w+script|data):/i),Ti=Fe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ks=Fe(/^html$/i),Ai=Fe(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ys=Object.freeze({__proto__:null,ARIA_ATTR:Ei,ATTR_WHITESPACE:Ti,CUSTOM_ELEMENT:Ai,DATA_ATTR:ki,DOCTYPE_NAME:Ks,ERB_EXPR:wi,IS_ALLOWED_URI:Ws,IS_SCRIPT_OR_DATA:yi,MUSTACHE_EXPR:_i,TMPLIT_EXPR:xi});const Xt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Si=function(){return typeof window>"u"?null:window},Ri=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Zs=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Xs(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Si();const e=y=>Xs(y);if(e.version="3.2.4",e.removed=[],!s||!s.document||s.document.nodeType!==Xt.document||!s.Element)return e.isSupported=!1,e;let{document:t}=s;const n=t,r=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:f,NodeFilter:h,NamedNodeMap:g=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:p,DOMParser:M,trustedTypes:R}=s,L=f.prototype,x=Zt(L,"cloneNode"),Z=Zt(L,"remove"),te=Zt(L,"nextSibling"),ne=Zt(L,"childNodes"),j=Zt(L,"parentNode");if(typeof o=="function"){const y=t.createElement("template");y.content&&y.content.ownerDocument&&(t=y.content.ownerDocument)}let I,X="";const{implementation:ke,createNodeIterator:Ee,createDocumentFragment:D,getElementsByTagName:ye}=t,{importNode:de}=n;let le=Zs();e.isSupported=typeof Ps=="function"&&typeof j=="function"&&ke&&ke.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:dt,ERB_EXPR:rt,TMPLIT_EXPR:Te,DATA_ATTR:it,ARIA_ATTR:Vt,IS_SCRIPT_OR_DATA:Rt,ATTR_WHITESPACE:et,CUSTOM_ELEMENT:vt}=Ys;let{IS_ALLOWED_URI:bt}=Ys,A=null;const V=$({},[...Fs,...Xn,...Vn,...Qn,...js]);let F=null;const Ae=$({},[...Gs,...Jn,...qs,...En]);let G=Object.seal(zs(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),je=null,z=null,Q=!0,P=!0,J=!1,Ke=!0,Se=!1,Le=!0,q=!1,ce=!1,Ye=!1,ot=!1,Ct=!1,Ot=!1,Qt=!0,yn=!1;const ss="user-content-";let Mt=!0,De=!1,tt={},Pe=null;const mt=$({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Jt=null;const Tn=$({},["audio","video","img","source","image","track"]);let en=null;const An=$({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Nt="http://www.w3.org/1998/Math/MathML",Lt="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml";let lt=Ge,tn=!1,nn=null;const sn=$({},[Nt,Lt,Ge],Zn);let _t=$({},["mi","mo","mn","ms","mtext"]),wt=$({},["annotation-xml"]);const rs=$({},["title","style","font","a","script"]);let at=null;const ct=["application/xhtml+xml","text/html"],a="text/html";let u=null,m=null;const C=t.createElement("form"),oe=function(c){return c instanceof RegExp||c instanceof Function},se=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(m&&m===c)){if((!c||typeof c!="object")&&(c={}),c=gt(c),at=ct.indexOf(c.PARSER_MEDIA_TYPE)===-1?a:c.PARSER_MEDIA_TYPE,u=at==="application/xhtml+xml"?Zn:kn,A=We(c,"ALLOWED_TAGS")?$({},c.ALLOWED_TAGS,u):V,F=We(c,"ALLOWED_ATTR")?$({},c.ALLOWED_ATTR,u):Ae,nn=We(c,"ALLOWED_NAMESPACES")?$({},c.ALLOWED_NAMESPACES,Zn):sn,en=We(c,"ADD_URI_SAFE_ATTR")?$(gt(An),c.ADD_URI_SAFE_ATTR,u):An,Jt=We(c,"ADD_DATA_URI_TAGS")?$(gt(Tn),c.ADD_DATA_URI_TAGS,u):Tn,Pe=We(c,"FORBID_CONTENTS")?$({},c.FORBID_CONTENTS,u):mt,je=We(c,"FORBID_TAGS")?$({},c.FORBID_TAGS,u):{},z=We(c,"FORBID_ATTR")?$({},c.FORBID_ATTR,u):{},tt=We(c,"USE_PROFILES")?c.USE_PROFILES:!1,Q=c.ALLOW_ARIA_ATTR!==!1,P=c.ALLOW_DATA_ATTR!==!1,J=c.ALLOW_UNKNOWN_PROTOCOLS||!1,Ke=c.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Se=c.SAFE_FOR_TEMPLATES||!1,Le=c.SAFE_FOR_XML!==!1,q=c.WHOLE_DOCUMENT||!1,ot=c.RETURN_DOM||!1,Ct=c.RETURN_DOM_FRAGMENT||!1,Ot=c.RETURN_TRUSTED_TYPE||!1,Ye=c.FORCE_BODY||!1,Qt=c.SANITIZE_DOM!==!1,yn=c.SANITIZE_NAMED_PROPS||!1,Mt=c.KEEP_CONTENT!==!1,De=c.IN_PLACE||!1,bt=c.ALLOWED_URI_REGEXP||Ws,lt=c.NAMESPACE||Ge,_t=c.MATHML_TEXT_INTEGRATION_POINTS||_t,wt=c.HTML_INTEGRATION_POINTS||wt,G=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&oe(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&oe(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(G.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Se&&(P=!1),Ct&&(ot=!0),tt&&(A=$({},js),F=[],tt.html===!0&&($(A,Fs),$(F,Gs)),tt.svg===!0&&($(A,Xn),$(F,Jn),$(F,En)),tt.svgFilters===!0&&($(A,Vn),$(F,Jn),$(F,En)),tt.mathMl===!0&&($(A,Qn),$(F,qs),$(F,En))),c.ADD_TAGS&&(A===V&&(A=gt(A)),$(A,c.ADD_TAGS,u)),c.ADD_ATTR&&(F===Ae&&(F=gt(F)),$(F,c.ADD_ATTR,u)),c.ADD_URI_SAFE_ATTR&&$(en,c.ADD_URI_SAFE_ATTR,u),c.FORBID_CONTENTS&&(Pe===mt&&(Pe=gt(Pe)),$(Pe,c.FORBID_CONTENTS,u)),Mt&&(A["#text"]=!0),q&&$(A,["html","head","body"]),A.table&&($(A,["tbody"]),delete je.tbody),c.TRUSTED_TYPES_POLICY){if(typeof c.TRUSTED_TYPES_POLICY.createHTML!="function")throw Yt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof c.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Yt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=c.TRUSTED_TYPES_POLICY,X=I.createHTML("")}else I===void 0&&(I=Ri(R,r)),I!==null&&typeof X=="string"&&(X=I.createHTML(""));Oe&&Oe(c),m=c}},k=$({},[...Xn,...Vn,...bi]),w=$({},[...Qn,...mi]),v=function(c){let d=j(c);(!d||!d.tagName)&&(d={namespaceURI:lt,tagName:"template"});const E=kn(c.tagName),U=kn(d.tagName);return nn[c.namespaceURI]?c.namespaceURI===Lt?d.namespaceURI===Ge?E==="svg":d.namespaceURI===Nt?E==="svg"&&(U==="annotation-xml"||_t[U]):!!k[E]:c.namespaceURI===Nt?d.namespaceURI===Ge?E==="math":d.namespaceURI===Lt?E==="math"&&wt[U]:!!w[E]:c.namespaceURI===Ge?d.namespaceURI===Lt&&!wt[U]||d.namespaceURI===Nt&&!_t[U]?!1:!w[E]&&(rs[E]||!k[E]):!!(at==="application/xhtml+xml"&&nn[c.namespaceURI]):!1},W=function(c){Wt(e.removed,{element:c});try{j(c).removeChild(c)}catch{Z(c)}},re=function(c,d){try{Wt(e.removed,{attribute:d.getAttributeNode(c),from:d})}catch{Wt(e.removed,{attribute:null,from:d})}if(d.removeAttribute(c),c==="is")if(ot||Ct)try{W(d)}catch{}else try{d.setAttribute(c,"")}catch{}},ut=function(c){let d=null,E=null;if(Ye)c="<remove></remove>"+c;else{const ue=Hs(c,/^[\r\n\t ]+/);E=ue&&ue[0]}at==="application/xhtml+xml"&&lt===Ge&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");const U=I?I.createHTML(c):c;if(lt===Ge)try{d=new M().parseFromString(U,at)}catch{}if(!d||!d.documentElement){d=ke.createDocument(lt,"template",null);try{d.documentElement.innerHTML=tn?X:U}catch{}}const be=d.body||d.documentElement;return c&&E&&be.insertBefore(t.createTextNode(E),be.childNodes[0]||null),lt===Ge?ye.call(d,q?"html":"body")[0]:q?d.documentElement:be},It=function(c){return Ee.call(c.ownerDocument||c,c,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},xt=function(c){return c instanceof p&&(typeof c.nodeName!="string"||typeof c.textContent!="string"||typeof c.removeChild!="function"||!(c.attributes instanceof g)||typeof c.removeAttribute!="function"||typeof c.setAttribute!="function"||typeof c.namespaceURI!="string"||typeof c.insertBefore!="function"||typeof c.hasChildNodes!="function")},Sn=function(c){return typeof l=="function"&&c instanceof l};function Be(y,c,d){xn(y,E=>{E.call(e,c,d,m)})}const Rn=function(c){let d=null;if(Be(le.beforeSanitizeElements,c,null),xt(c))return W(c),!0;const E=u(c.nodeName);if(Be(le.uponSanitizeElement,c,{tagName:E,allowedTags:A}),c.hasChildNodes()&&!Sn(c.firstElementChild)&&Me(/<[/\w]/g,c.innerHTML)&&Me(/<[/\w]/g,c.textContent)||c.nodeType===Xt.progressingInstruction||Le&&c.nodeType===Xt.comment&&Me(/<[/\w]/g,c.data))return W(c),!0;if(!A[E]||je[E]){if(!je[E]&&Cn(E)&&(G.tagNameCheck instanceof RegExp&&Me(G.tagNameCheck,E)||G.tagNameCheck instanceof Function&&G.tagNameCheck(E)))return!1;if(Mt&&!Pe[E]){const U=j(c)||c.parentNode,be=ne(c)||c.childNodes;if(be&&U){const ue=be.length;for(let Re=ue-1;Re>=0;--Re){const qe=x(be[Re],!0);qe.__removalCount=(c.__removalCount||0)+1,U.insertBefore(qe,te(c))}}}return W(c),!0}return c instanceof f&&!v(c)||(E==="noscript"||E==="noembed"||E==="noframes")&&Me(/<\/no(script|embed|frames)/i,c.innerHTML)?(W(c),!0):(Se&&c.nodeType===Xt.text&&(d=c.textContent,xn([dt,rt,Te],U=>{d=Kt(d,U," ")}),c.textContent!==d&&(Wt(e.removed,{element:c.cloneNode()}),c.textContent=d)),Be(le.afterSanitizeElements,c,null),!1)},vn=function(c,d,E){if(Qt&&(d==="id"||d==="name")&&(E in t||E in C))return!1;if(!(P&&!z[d]&&Me(it,d))){if(!(Q&&Me(Vt,d))){if(!F[d]||z[d]){if(!(Cn(c)&&(G.tagNameCheck instanceof RegExp&&Me(G.tagNameCheck,c)||G.tagNameCheck instanceof Function&&G.tagNameCheck(c))&&(G.attributeNameCheck instanceof RegExp&&Me(G.attributeNameCheck,d)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(d))||d==="is"&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&Me(G.tagNameCheck,E)||G.tagNameCheck instanceof Function&&G.tagNameCheck(E))))return!1}else if(!en[d]){if(!Me(bt,Kt(E,et,""))){if(!((d==="src"||d==="xlink:href"||d==="href")&&c!=="script"&&hi(E,"data:")===0&&Jt[c])){if(!(J&&!Me(Rt,Kt(E,et,"")))){if(E)return!1}}}}}}return!0},Cn=function(c){return c!=="annotation-xml"&&Hs(c,vt)},rn=function(c){Be(le.beforeSanitizeAttributes,c,null);const{attributes:d}=c;if(!d||xt(c))return;const E={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let U=d.length;for(;U--;){const be=d[U],{name:ue,namespaceURI:Re,value:qe}=be,kt=u(ue);let fe=ue==="value"?qe:pi(qe);if(E.attrName=kt,E.attrValue=fe,E.keepAttr=!0,E.forceKeepAttr=void 0,Be(le.uponSanitizeAttribute,c,E),fe=E.attrValue,yn&&(kt==="id"||kt==="name")&&(re(ue,c),fe=ss+fe),Le&&Me(/((--!?|])>)|<\/(style|title)/i,fe)){re(ue,c);continue}if(E.forceKeepAttr||(re(ue,c),!E.keepAttr))continue;if(!Ke&&Me(/\/>/i,fe)){re(ue,c);continue}Se&&xn([dt,rt,Te],b=>{fe=Kt(fe,b," ")});const On=u(c.nodeName);if(vn(On,kt,fe)){if(I&&typeof R=="object"&&typeof R.getAttributeType=="function"&&!Re)switch(R.getAttributeType(On,kt)){case"TrustedHTML":{fe=I.createHTML(fe);break}case"TrustedScriptURL":{fe=I.createScriptURL(fe);break}}try{Re?c.setAttributeNS(Re,ue,fe):c.setAttribute(ue,fe),xt(c)?W(c):Us(e.removed)}catch{}}}Be(le.afterSanitizeAttributes,c,null)},$t=function y(c){let d=null;const E=It(c);for(Be(le.beforeSanitizeShadowDOM,c,null);d=E.nextNode();)Be(le.uponSanitizeShadowNode,d,null),Rn(d),rn(d),d.content instanceof i&&y(d.content);Be(le.afterSanitizeShadowDOM,c,null)};return e.sanitize=function(y){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=null,E=null,U=null,be=null;if(tn=!y,tn&&(y="<!-->"),typeof y!="string"&&!Sn(y))if(typeof y.toString=="function"){if(y=y.toString(),typeof y!="string")throw Yt("dirty is not a string, aborting")}else throw Yt("toString is not a function");if(!e.isSupported)return y;if(ce||se(c),e.removed=[],typeof y=="string"&&(De=!1),De){if(y.nodeName){const qe=u(y.nodeName);if(!A[qe]||je[qe])throw Yt("root node is forbidden and cannot be sanitized in-place")}}else if(y instanceof l)d=ut("<!---->"),E=d.ownerDocument.importNode(y,!0),E.nodeType===Xt.element&&E.nodeName==="BODY"||E.nodeName==="HTML"?d=E:d.appendChild(E);else{if(!ot&&!Se&&!q&&y.indexOf("<")===-1)return I&&Ot?I.createHTML(y):y;if(d=ut(y),!d)return ot?null:Ot?X:""}d&&Ye&&W(d.firstChild);const ue=It(De?y:d);for(;U=ue.nextNode();)Rn(U),rn(U),U.content instanceof i&&$t(U.content);if(De)return y;if(ot){if(Ct)for(be=D.call(d.ownerDocument);d.firstChild;)be.appendChild(d.firstChild);else be=d;return(F.shadowroot||F.shadowrootmode)&&(be=de.call(n,be,!0)),be}let Re=q?d.outerHTML:d.innerHTML;return q&&A["!doctype"]&&d.ownerDocument&&d.ownerDocument.doctype&&d.ownerDocument.doctype.name&&Me(Ks,d.ownerDocument.doctype.name)&&(Re="<!DOCTYPE "+d.ownerDocument.doctype.name+`>
`+Re),Se&&xn([dt,rt,Te],qe=>{Re=Kt(Re,qe," ")}),I&&Ot?I.createHTML(Re):Re},e.setConfig=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};se(y),ce=!0},e.clearConfig=function(){m=null,ce=!1},e.isValidAttribute=function(y,c,d){m||se({});const E=u(y),U=u(c);return vn(E,U,d)},e.addHook=function(y,c){typeof c=="function"&&Wt(le[y],c)},e.removeHook=function(y,c){if(c!==void 0){const d=ui(le[y],c);return d===-1?void 0:fi(le[y],d,1)[0]}return Us(le[y])},e.removeHooks=function(y){le[y]=[]},e.removeAllHooks=function(){le=Zs()},e}var es=Xs();function vi(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ts,Vs;function Ci(){if(Vs)return ts;Vs=1;function s(a){return a instanceof Map?a.clear=a.delete=a.set=function(){throw new Error("map is read-only")}:a instanceof Set&&(a.add=a.clear=a.delete=function(){throw new Error("set is read-only")}),Object.freeze(a),Object.getOwnPropertyNames(a).forEach(u=>{const m=a[u],C=typeof m;(C==="object"||C==="function")&&!Object.isFrozen(m)&&s(m)}),a}class e{constructor(u){u.data===void 0&&(u.data={}),this.data=u.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function t(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function n(a,...u){const m=Object.create(null);for(const C in a)m[C]=a[C];return u.forEach(function(C){for(const oe in C)m[oe]=C[oe]}),m}const r="</span>",i=a=>!!a.scope,o=(a,{prefix:u})=>{if(a.startsWith("language:"))return a.replace("language:","language-");if(a.includes(".")){const m=a.split(".");return[`${u}${m.shift()}`,...m.map((C,oe)=>`${C}${"_".repeat(oe+1)}`)].join(" ")}return`${u}${a}`};class l{constructor(u,m){this.buffer="",this.classPrefix=m.classPrefix,u.walk(this)}addText(u){this.buffer+=t(u)}openNode(u){if(!i(u))return;const m=o(u.scope,{prefix:this.classPrefix});this.span(m)}closeNode(u){i(u)&&(this.buffer+=r)}value(){return this.buffer}span(u){this.buffer+=`<span class="${u}">`}}const f=(a={})=>{const u={children:[]};return Object.assign(u,a),u};class h{constructor(){this.rootNode=f(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(u){this.top.children.push(u)}openNode(u){const m=f({scope:u});this.add(m),this.stack.push(m)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(u){return this.constructor._walk(u,this.rootNode)}static _walk(u,m){return typeof m=="string"?u.addText(m):m.children&&(u.openNode(m),m.children.forEach(C=>this._walk(u,C)),u.closeNode(m)),u}static _collapse(u){typeof u!="string"&&u.children&&(u.children.every(m=>typeof m=="string")?u.children=[u.children.join("")]:u.children.forEach(m=>{h._collapse(m)}))}}class g extends h{constructor(u){super(),this.options=u}addText(u){u!==""&&this.add(u)}startScope(u){this.openNode(u)}endScope(){this.closeNode()}__addSublanguage(u,m){const C=u.root;m&&(C.scope=`language:${m}`),this.add(C)}toHTML(){return new l(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function p(a){return a?typeof a=="string"?a:a.source:null}function M(a){return x("(?=",a,")")}function R(a){return x("(?:",a,")*")}function L(a){return x("(?:",a,")?")}function x(...a){return a.map(m=>p(m)).join("")}function Z(a){const u=a[a.length-1];return typeof u=="object"&&u.constructor===Object?(a.splice(a.length-1,1),u):{}}function te(...a){return"("+(Z(a).capture?"":"?:")+a.map(C=>p(C)).join("|")+")"}function ne(a){return new RegExp(a.toString()+"|").exec("").length-1}function j(a,u){const m=a&&a.exec(u);return m&&m.index===0}const I=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function X(a,{joinWith:u}){let m=0;return a.map(C=>{m+=1;const oe=m;let se=p(C),k="";for(;se.length>0;){const w=I.exec(se);if(!w){k+=se;break}k+=se.substring(0,w.index),se=se.substring(w.index+w[0].length),w[0][0]==="\\"&&w[1]?k+="\\"+String(Number(w[1])+oe):(k+=w[0],w[0]==="("&&m++)}return k}).map(C=>`(${C})`).join(u)}const ke=/\b\B/,Ee="[a-zA-Z]\\w*",D="[a-zA-Z_]\\w*",ye="\\b\\d+(\\.\\d+)?",de="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",le="\\b(0b[01]+)",dt="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",rt=(a={})=>{const u=/^#![ ]*\//;return a.binary&&(a.begin=x(u,/.*\b/,a.binary,/\b.*/)),n({scope:"meta",begin:u,end:/$/,relevance:0,"on:begin":(m,C)=>{m.index!==0&&C.ignoreMatch()}},a)},Te={begin:"\\\\[\\s\\S]",relevance:0},it={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Te]},Vt={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Te]},Rt={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},et=function(a,u,m={}){const C=n({scope:"comment",begin:a,end:u,contains:[]},m);C.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const oe=te("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return C.contains.push({begin:x(/[ ]+/,"(",oe,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),C},vt=et("//","$"),bt=et("/\\*","\\*/"),A=et("#","$"),V={scope:"number",begin:ye,relevance:0},F={scope:"number",begin:de,relevance:0},Ae={scope:"number",begin:le,relevance:0},G={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Te,{begin:/\[/,end:/\]/,relevance:0,contains:[Te]}]},je={scope:"title",begin:Ee,relevance:0},z={scope:"title",begin:D,relevance:0},Q={begin:"\\.\\s*"+D,relevance:0};var J=Object.freeze({__proto__:null,APOS_STRING_MODE:it,BACKSLASH_ESCAPE:Te,BINARY_NUMBER_MODE:Ae,BINARY_NUMBER_RE:le,COMMENT:et,C_BLOCK_COMMENT_MODE:bt,C_LINE_COMMENT_MODE:vt,C_NUMBER_MODE:F,C_NUMBER_RE:de,END_SAME_AS_BEGIN:function(a){return Object.assign(a,{"on:begin":(u,m)=>{m.data._beginMatch=u[1]},"on:end":(u,m)=>{m.data._beginMatch!==u[1]&&m.ignoreMatch()}})},HASH_COMMENT_MODE:A,IDENT_RE:Ee,MATCH_NOTHING_RE:ke,METHOD_GUARD:Q,NUMBER_MODE:V,NUMBER_RE:ye,PHRASAL_WORDS_MODE:Rt,QUOTE_STRING_MODE:Vt,REGEXP_MODE:G,RE_STARTERS_RE:dt,SHEBANG:rt,TITLE_MODE:je,UNDERSCORE_IDENT_RE:D,UNDERSCORE_TITLE_MODE:z});function Ke(a,u){a.input[a.index-1]==="."&&u.ignoreMatch()}function Se(a,u){a.className!==void 0&&(a.scope=a.className,delete a.className)}function Le(a,u){u&&a.beginKeywords&&(a.begin="\\b("+a.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",a.__beforeBegin=Ke,a.keywords=a.keywords||a.beginKeywords,delete a.beginKeywords,a.relevance===void 0&&(a.relevance=0))}function q(a,u){Array.isArray(a.illegal)&&(a.illegal=te(...a.illegal))}function ce(a,u){if(a.match){if(a.begin||a.end)throw new Error("begin & end are not supported with match");a.begin=a.match,delete a.match}}function Ye(a,u){a.relevance===void 0&&(a.relevance=1)}const ot=(a,u)=>{if(!a.beforeMatch)return;if(a.starts)throw new Error("beforeMatch cannot be used with starts");const m=Object.assign({},a);Object.keys(a).forEach(C=>{delete a[C]}),a.keywords=m.keywords,a.begin=x(m.beforeMatch,M(m.begin)),a.starts={relevance:0,contains:[Object.assign(m,{endsParent:!0})]},a.relevance=0,delete m.beforeMatch},Ct=["of","and","for","in","not","or","if","then","parent","list","value"],Ot="keyword";function Qt(a,u,m=Ot){const C=Object.create(null);return typeof a=="string"?oe(m,a.split(" ")):Array.isArray(a)?oe(m,a):Object.keys(a).forEach(function(se){Object.assign(C,Qt(a[se],u,se))}),C;function oe(se,k){u&&(k=k.map(w=>w.toLowerCase())),k.forEach(function(w){const v=w.split("|");C[v[0]]=[se,yn(v[0],v[1])]})}}function yn(a,u){return u?Number(u):ss(a)?0:1}function ss(a){return Ct.includes(a.toLowerCase())}const Mt={},De=a=>{console.error(a)},tt=(a,...u)=>{console.log(`WARN: ${a}`,...u)},Pe=(a,u)=>{Mt[`${a}/${u}`]||(console.log(`Deprecated as of ${a}. ${u}`),Mt[`${a}/${u}`]=!0)},mt=new Error;function Jt(a,u,{key:m}){let C=0;const oe=a[m],se={},k={};for(let w=1;w<=u.length;w++)k[w+C]=oe[w],se[w+C]=!0,C+=ne(u[w-1]);a[m]=k,a[m]._emit=se,a[m]._multi=!0}function Tn(a){if(Array.isArray(a.begin)){if(a.skip||a.excludeBegin||a.returnBegin)throw De("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),mt;if(typeof a.beginScope!="object"||a.beginScope===null)throw De("beginScope must be object"),mt;Jt(a,a.begin,{key:"beginScope"}),a.begin=X(a.begin,{joinWith:""})}}function en(a){if(Array.isArray(a.end)){if(a.skip||a.excludeEnd||a.returnEnd)throw De("skip, excludeEnd, returnEnd not compatible with endScope: {}"),mt;if(typeof a.endScope!="object"||a.endScope===null)throw De("endScope must be object"),mt;Jt(a,a.end,{key:"endScope"}),a.end=X(a.end,{joinWith:""})}}function An(a){a.scope&&typeof a.scope=="object"&&a.scope!==null&&(a.beginScope=a.scope,delete a.scope)}function Nt(a){An(a),typeof a.beginScope=="string"&&(a.beginScope={_wrap:a.beginScope}),typeof a.endScope=="string"&&(a.endScope={_wrap:a.endScope}),Tn(a),en(a)}function Lt(a){function u(k,w){return new RegExp(p(k),"m"+(a.case_insensitive?"i":"")+(a.unicodeRegex?"u":"")+(w?"g":""))}class m{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(w,v){v.position=this.position++,this.matchIndexes[this.matchAt]=v,this.regexes.push([v,w]),this.matchAt+=ne(w)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const w=this.regexes.map(v=>v[1]);this.matcherRe=u(X(w,{joinWith:"|"}),!0),this.lastIndex=0}exec(w){this.matcherRe.lastIndex=this.lastIndex;const v=this.matcherRe.exec(w);if(!v)return null;const W=v.findIndex((ut,It)=>It>0&&ut!==void 0),re=this.matchIndexes[W];return v.splice(0,W),Object.assign(v,re)}}class C{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(w){if(this.multiRegexes[w])return this.multiRegexes[w];const v=new m;return this.rules.slice(w).forEach(([W,re])=>v.addRule(W,re)),v.compile(),this.multiRegexes[w]=v,v}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(w,v){this.rules.push([w,v]),v.type==="begin"&&this.count++}exec(w){const v=this.getMatcher(this.regexIndex);v.lastIndex=this.lastIndex;let W=v.exec(w);if(this.resumingScanAtSamePosition()&&!(W&&W.index===this.lastIndex)){const re=this.getMatcher(0);re.lastIndex=this.lastIndex+1,W=re.exec(w)}return W&&(this.regexIndex+=W.position+1,this.regexIndex===this.count&&this.considerAll()),W}}function oe(k){const w=new C;return k.contains.forEach(v=>w.addRule(v.begin,{rule:v,type:"begin"})),k.terminatorEnd&&w.addRule(k.terminatorEnd,{type:"end"}),k.illegal&&w.addRule(k.illegal,{type:"illegal"}),w}function se(k,w){const v=k;if(k.isCompiled)return v;[Se,ce,Nt,ot].forEach(re=>re(k,w)),a.compilerExtensions.forEach(re=>re(k,w)),k.__beforeBegin=null,[Le,q,Ye].forEach(re=>re(k,w)),k.isCompiled=!0;let W=null;return typeof k.keywords=="object"&&k.keywords.$pattern&&(k.keywords=Object.assign({},k.keywords),W=k.keywords.$pattern,delete k.keywords.$pattern),W=W||/\w+/,k.keywords&&(k.keywords=Qt(k.keywords,a.case_insensitive)),v.keywordPatternRe=u(W,!0),w&&(k.begin||(k.begin=/\B|\b/),v.beginRe=u(v.begin),!k.end&&!k.endsWithParent&&(k.end=/\B|\b/),k.end&&(v.endRe=u(v.end)),v.terminatorEnd=p(v.end)||"",k.endsWithParent&&w.terminatorEnd&&(v.terminatorEnd+=(k.end?"|":"")+w.terminatorEnd)),k.illegal&&(v.illegalRe=u(k.illegal)),k.contains||(k.contains=[]),k.contains=[].concat(...k.contains.map(function(re){return lt(re==="self"?k:re)})),k.contains.forEach(function(re){se(re,v)}),k.starts&&se(k.starts,w),v.matcher=oe(v),v}if(a.compilerExtensions||(a.compilerExtensions=[]),a.contains&&a.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return a.classNameAliases=n(a.classNameAliases||{}),se(a)}function Ge(a){return a?a.endsWithParent||Ge(a.starts):!1}function lt(a){return a.variants&&!a.cachedVariants&&(a.cachedVariants=a.variants.map(function(u){return n(a,{variants:null},u)})),a.cachedVariants?a.cachedVariants:Ge(a)?n(a,{starts:a.starts?n(a.starts):null}):Object.isFrozen(a)?n(a):a}var tn="11.10.0";class nn extends Error{constructor(u,m){super(u),this.name="HTMLInjectionError",this.html=m}}const sn=t,_t=n,wt=Symbol("nomatch"),rs=7,at=function(a){const u=Object.create(null),m=Object.create(null),C=[];let oe=!0;const se="Could not find the language '{}', did you forget to load/include a language module?",k={disableAutodetect:!0,name:"Plain text",contains:[]};let w={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:g};function v(b){return w.noHighlightRe.test(b)}function W(b){let S=b.className+" ";S+=b.parentNode?b.parentNode.className:"";const B=w.languageDetectRe.exec(S);if(B){const ee=U(B[1]);return ee||(tt(se.replace("{}",B[1])),tt("Falling back to no-highlight mode for this block.",b)),ee?B[1]:"no-highlight"}return S.split(/\s+/).find(ee=>v(ee)||U(ee))}function re(b,S,B){let ee="",me="";typeof S=="object"?(ee=b,B=S.ignoreIllegals,me=S.language):(Pe("10.7.0","highlight(lang, code, ...args) has been deprecated."),Pe("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),me=b,ee=S),B===void 0&&(B=!0);const Ze={code:ee,language:me};fe("before:highlight",Ze);const ft=Ze.result?Ze.result:ut(Ze.language,Ze.code,B);return ft.code=Ze.code,fe("after:highlight",ft),ft}function ut(b,S,B,ee){const me=Object.create(null);function Ze(_,T){return _.keywords[T]}function ft(){if(!O.keywords){_e.addText(ie);return}let _=0;O.keywordPatternRe.lastIndex=0;let T=O.keywordPatternRe.exec(ie),N="";for(;T;){N+=ie.substring(_,T.index);const K=Qe.case_insensitive?T[0].toLowerCase():T[0],ve=Ze(O,K);if(ve){const[nt,fo]=ve;if(_e.addText(N),N="",me[K]=(me[K]||0)+1,me[K]<=rs&&(Ln+=fo),nt.startsWith("_"))N+=T[0];else{const ho=Qe.classNameAliases[nt]||nt;Ve(T[0],ho)}}else N+=T[0];_=O.keywordPatternRe.lastIndex,T=O.keywordPatternRe.exec(ie)}N+=ie.substring(_),_e.addText(N)}function Mn(){if(ie==="")return;let _=null;if(typeof O.subLanguage=="string"){if(!u[O.subLanguage]){_e.addText(ie);return}_=ut(O.subLanguage,ie,!0,rr[O.subLanguage]),rr[O.subLanguage]=_._top}else _=xt(ie,O.subLanguage.length?O.subLanguage:null);O.relevance>0&&(Ln+=_.relevance),_e.__addSublanguage(_._emitter,_.language)}function ze(){O.subLanguage!=null?Mn():ft(),ie=""}function Ve(_,T){_!==""&&(_e.startScope(T),_e.addText(_),_e.endScope())}function er(_,T){let N=1;const K=T.length-1;for(;N<=K;){if(!_._emit[N]){N++;continue}const ve=Qe.classNameAliases[_[N]]||_[N],nt=T[N];ve?Ve(nt,ve):(ie=nt,ft(),ie=""),N++}}function tr(_,T){return _.scope&&typeof _.scope=="string"&&_e.openNode(Qe.classNameAliases[_.scope]||_.scope),_.beginScope&&(_.beginScope._wrap?(Ve(ie,Qe.classNameAliases[_.beginScope._wrap]||_.beginScope._wrap),ie=""):_.beginScope._multi&&(er(_.beginScope,T),ie="")),O=Object.create(_,{parent:{value:O}}),O}function nr(_,T,N){let K=j(_.endRe,N);if(K){if(_["on:end"]){const ve=new e(_);_["on:end"](T,ve),ve.isMatchIgnored&&(K=!1)}if(K){for(;_.endsParent&&_.parent;)_=_.parent;return _}}if(_.endsWithParent)return nr(_.parent,T,N)}function oo(_){return O.matcher.regexIndex===0?(ie+=_[0],1):(ls=!0,0)}function lo(_){const T=_[0],N=_.rule,K=new e(N),ve=[N.__beforeBegin,N["on:begin"]];for(const nt of ve)if(nt&&(nt(_,K),K.isMatchIgnored))return oo(T);return N.skip?ie+=T:(N.excludeBegin&&(ie+=T),ze(),!N.returnBegin&&!N.excludeBegin&&(ie=T)),tr(N,_),N.returnBegin?0:T.length}function ao(_){const T=_[0],N=S.substring(_.index),K=nr(O,_,N);if(!K)return wt;const ve=O;O.endScope&&O.endScope._wrap?(ze(),Ve(T,O.endScope._wrap)):O.endScope&&O.endScope._multi?(ze(),er(O.endScope,_)):ve.skip?ie+=T:(ve.returnEnd||ve.excludeEnd||(ie+=T),ze(),ve.excludeEnd&&(ie=T));do O.scope&&_e.closeNode(),!O.skip&&!O.subLanguage&&(Ln+=O.relevance),O=O.parent;while(O!==K.parent);return K.starts&&tr(K.starts,_),ve.returnEnd?0:T.length}function co(){const _=[];for(let T=O;T!==Qe;T=T.parent)T.scope&&_.unshift(T.scope);_.forEach(T=>_e.openNode(T))}let Nn={};function sr(_,T){const N=T&&T[0];if(ie+=_,N==null)return ze(),0;if(Nn.type==="begin"&&T.type==="end"&&Nn.index===T.index&&N===""){if(ie+=S.slice(T.index,T.index+1),!oe){const K=new Error(`0 width match regex (${b})`);throw K.languageName=b,K.badRule=Nn.rule,K}return 1}if(Nn=T,T.type==="begin")return lo(T);if(T.type==="illegal"&&!B){const K=new Error('Illegal lexeme "'+N+'" for mode "'+(O.scope||"<unnamed>")+'"');throw K.mode=O,K}else if(T.type==="end"){const K=ao(T);if(K!==wt)return K}if(T.type==="illegal"&&N==="")return 1;if(os>1e5&&os>T.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ie+=N,N.length}const Qe=U(b);if(!Qe)throw De(se.replace("{}",b)),new Error('Unknown language: "'+b+'"');const uo=Lt(Qe);let is="",O=ee||uo;const rr={},_e=new w.__emitter(w);co();let ie="",Ln=0,Et=0,os=0,ls=!1;try{if(Qe.__emitTokens)Qe.__emitTokens(S,_e);else{for(O.matcher.considerAll();;){os++,ls?ls=!1:O.matcher.considerAll(),O.matcher.lastIndex=Et;const _=O.matcher.exec(S);if(!_)break;const T=S.substring(Et,_.index),N=sr(T,_);Et=_.index+N}sr(S.substring(Et))}return _e.finalize(),is=_e.toHTML(),{language:b,value:is,relevance:Ln,illegal:!1,_emitter:_e,_top:O}}catch(_){if(_.message&&_.message.includes("Illegal"))return{language:b,value:sn(S),illegal:!0,relevance:0,_illegalBy:{message:_.message,index:Et,context:S.slice(Et-100,Et+100),mode:_.mode,resultSoFar:is},_emitter:_e};if(oe)return{language:b,value:sn(S),illegal:!1,relevance:0,errorRaised:_,_emitter:_e,_top:O};throw _}}function It(b){const S={value:sn(b),illegal:!1,relevance:0,_top:k,_emitter:new w.__emitter(w)};return S._emitter.addText(b),S}function xt(b,S){S=S||w.languages||Object.keys(u);const B=It(b),ee=S.filter(U).filter(ue).map(ze=>ut(ze,b,!1));ee.unshift(B);const me=ee.sort((ze,Ve)=>{if(ze.relevance!==Ve.relevance)return Ve.relevance-ze.relevance;if(ze.language&&Ve.language){if(U(ze.language).supersetOf===Ve.language)return 1;if(U(Ve.language).supersetOf===ze.language)return-1}return 0}),[Ze,ft]=me,Mn=Ze;return Mn.secondBest=ft,Mn}function Sn(b,S,B){const ee=S&&m[S]||B;b.classList.add("hljs"),b.classList.add(`language-${ee}`)}function Be(b){let S=null;const B=W(b);if(v(B))return;if(fe("before:highlightElement",{el:b,language:B}),b.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",b);return}if(b.children.length>0&&(w.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(b)),w.throwUnescapedHTML))throw new nn("One of your code blocks includes unescaped HTML.",b.innerHTML);S=b;const ee=S.textContent,me=B?re(ee,{language:B,ignoreIllegals:!0}):xt(ee);b.innerHTML=me.value,b.dataset.highlighted="yes",Sn(b,B,me.language),b.result={language:me.language,re:me.relevance,relevance:me.relevance},me.secondBest&&(b.secondBest={language:me.secondBest.language,relevance:me.secondBest.relevance}),fe("after:highlightElement",{el:b,result:me,text:ee})}function Rn(b){w=_t(w,b)}const vn=()=>{$t(),Pe("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Cn(){$t(),Pe("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let rn=!1;function $t(){if(document.readyState==="loading"){rn=!0;return}document.querySelectorAll(w.cssSelector).forEach(Be)}function y(){rn&&$t()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",y,!1);function c(b,S){let B=null;try{B=S(a)}catch(ee){if(De("Language definition for '{}' could not be registered.".replace("{}",b)),oe)De(ee);else throw ee;B=k}B.name||(B.name=b),u[b]=B,B.rawDefinition=S.bind(null,a),B.aliases&&be(B.aliases,{languageName:b})}function d(b){delete u[b];for(const S of Object.keys(m))m[S]===b&&delete m[S]}function E(){return Object.keys(u)}function U(b){return b=(b||"").toLowerCase(),u[b]||u[m[b]]}function be(b,{languageName:S}){typeof b=="string"&&(b=[b]),b.forEach(B=>{m[B.toLowerCase()]=S})}function ue(b){const S=U(b);return S&&!S.disableAutodetect}function Re(b){b["before:highlightBlock"]&&!b["before:highlightElement"]&&(b["before:highlightElement"]=S=>{b["before:highlightBlock"](Object.assign({block:S.el},S))}),b["after:highlightBlock"]&&!b["after:highlightElement"]&&(b["after:highlightElement"]=S=>{b["after:highlightBlock"](Object.assign({block:S.el},S))})}function qe(b){Re(b),C.push(b)}function kt(b){const S=C.indexOf(b);S!==-1&&C.splice(S,1)}function fe(b,S){const B=b;C.forEach(function(ee){ee[B]&&ee[B](S)})}function On(b){return Pe("10.7.0","highlightBlock will be removed entirely in v12.0"),Pe("10.7.0","Please use highlightElement now."),Be(b)}Object.assign(a,{highlight:re,highlightAuto:xt,highlightAll:$t,highlightElement:Be,highlightBlock:On,configure:Rn,initHighlighting:vn,initHighlightingOnLoad:Cn,registerLanguage:c,unregisterLanguage:d,listLanguages:E,getLanguage:U,registerAliases:be,autoDetection:ue,inherit:_t,addPlugin:qe,removePlugin:kt}),a.debugMode=function(){oe=!1},a.safeMode=function(){oe=!0},a.versionString=tn,a.regex={concat:x,lookahead:M,either:te,optional:L,anyNumberOfTimes:R};for(const b in J)typeof J[b]=="object"&&s(J[b]);return Object.assign(a,J),a},ct=at({});return ct.newInstance=()=>at({}),ts=ct,ct.HighlightJS=ct,ct.default=ct,ts}var Oi=Ci();const ns=vi(Oi),Mi={label:"Run or edit the query",title:"Open the SPARQL query in an editor in a new tab"};function Ni(s,e=""){return`https://sib-swiss.github.io/sparql-editor/?${e?`endpoint=${e}&`:""}query=${encodeURIComponent(s)}`}const Li=`chat-with-context {
  button:hover {
    filter: brightness(90%);
  }
}
.iconBtn {
  filter: invert(44%) sepia(22%) saturate(496%) hue-rotate(176deg) brightness(93%) contrast(79%);
}`;function Ii(s){var e={keyword:"base|10 prefix|10 @base|10 @prefix|10",literal:"true|0 false|0",built_in:"a|0"},t={className:"literal",relevance:1,begin:/</,end:/>/,illegal:/[^\x00-\x20<>"{}|^`]/},n="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F",r=n+"_",i="-"+r+"0-9·̀-ͯ‿-⁀",o="_:["+r+"0-9](["+i+".]*["+i+"])?",l="["+n+"](["+i+".]*["+i+"])?",f="%[0-9A-Fa-f][0-9A-Fa-f]",h="\\\\[_~.!$&'()*+,;=/?#@%-]",g=f+"|"+h,p="("+l+")?:",M="(["+r+":0-9]|"+g+")(["+i+".:]|"+g+")*(["+i+":]|"+g+")?",R=p+M,L=p+"("+M+")?",x={begin:L,relevance:0,className:"symbol"},Z={begin:o,relevance:10,className:"template-variable"},te={begin:/@[a-zA-Z]+([a-zA-Z0-9-]+)*/,className:"type",relevance:5},ne={begin:"\\^\\^"+R,className:"type",relevance:10},j={begin:/'''/,end:/'''/,className:"string",relevance:0},I={begin:/"""/,end:/"""/,className:"string",relevance:0},X=JSON.parse(JSON.stringify(s.APOS_STRING_MODE));X.relevance=0;var ke=JSON.parse(JSON.stringify(s.QUOTE_STRING_MODE));ke.relevance=0;var Ee=JSON.parse(JSON.stringify(s.C_NUMBER_MODE));return Ee.relevance=0,{case_insensitive:!0,keywords:e,aliases:["turtle","ttl","n3","ntriples","shex","trig"],contains:[te,ne,t,Z,x,j,I,X,ke,Ee,s.HASH_COMMENT_MODE],exports:{LANGTAG:te,DATATYPE:ne,IRI_LITERAL:t,BLANK_NODE:Z,PNAME:x,TRIPLE_APOS_STRING:j,TRIPLE_QUOTE_STRING:I,APOS_STRING_LITERAL:X,QUOTE_STRING_LITERAL:ke,NUMBER:Ee,KEYWORDS:e}}}function $i(s){var e=s.getLanguage("ttl").exports,t={keyword:"base|10 prefix|10 @base|10 @prefix|10 add all as|0 ask bind by|0 clear construct|10 copymove create data default define delete describe distinct drop exists filter from|0 graph|10 group having in|0 insert limit load minus named|10 not offset optional order reduced select|0 service silent to union using values where with|0",function:"abs asc avg bound ceil coalesce concat containsstrbefore count dayhours desc encode_for_uri floor group_concat if|0 iri isblank isiri isliteral isnumeric isuri langdatatype langmatches lcase max md5 min|0 minutes month now rand regex replace round sameterm sample seconds separator sha1 sha256 sha384 sha512 str strafter strdt strends strlang strlen strstarts struuid substr sum then timezone tz ucase uribnode uuid year",literal:"true|0 false|0",built_in:"a|0"},n={className:"variable",begin:"[?$]"+s.IDENT_RE,relevance:0},r={begin:/"""\s*\{/,end:/"""/,subLanguage:"json",excludeBegin:!0,excludeEnd:!0,relevance:0},i={begin:/'''\s*\{/,end:/'''/,subLanguage:"json",excludeBegin:!0,excludeEnd:!0,relevance:0};return{case_insensitive:!0,keywords:t,aliases:["sparql","rql","rq","ru"],contains:[e.LANGTAG,e.DATATYPE,e.IRI_LITERAL,e.BLANK_NODE,e.PNAME,n,r,i,e.TRIPLE_QUOTE_STRING,e.TRIPLE_APOS_STRING,e.QUOTE_STRING_LITERAL,e.APOS_STRING_LITERAL,e.NUMBER,s.HASH_COMMENT_MODE]}}const Di="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-arrow-up-icon%20lucide-arrow-up'%3e%3cpath%20d='m5%2012%207-7%207%207'/%3e%3cpath%20d='M12%2019V5'/%3e%3c/svg%3e",Qs="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-x'%3e%3cline%20x1='18'%20y1='6'%20x2='6'%20y2='18'%3e%3c/line%3e%3cline%20x1='6'%20y1='6'%20x2='18'%20y2='18'%3e%3c/line%3e%3c/svg%3e",Pi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-edit'%3e%3cpath%20d='M11%204H4a2%202%200%200%200-2%202v14a2%202%200%200%200%202%202h14a2%202%200%200%200%202-2v-7'%3e%3c/path%3e%3cpath%20d='M18.5%202.5a2.121%202.121%200%200%201%203%203L12%2015l-4%201%201-4%209.5-9.5z'%3e%3c/path%3e%3c/svg%3e",Bi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-square'%3e%3crect%20x='3'%20y='3'%20width='18'%20height='18'%20rx='2'%20ry='2'%3e%3c/rect%3e%3c/svg%3e",zi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-thumbs-down'%3e%3cpath%20d='M10%2015v4a3%203%200%200%200%203%203l4-9V2H5.72a2%202%200%200%200-2%201.7l-1.38%209a2%202%200%200%200%202%202.3zm7-13h2.67A2.31%202.31%200%200%201%2022%204v7a2.31%202.31%200%200%201-2.33%202H17'%3e%3c/path%3e%3c/svg%3e",Ui="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-thumbs-up'%3e%3cpath%20d='M14%209V5a3%203%200%200%200-3-3l-4%209v11h11.28a2%202%200%200%200%202-1.7l1.38-9a2%202%200%200%200-2-2.3zM7%2022H4a2%202%200%200%201-2-2v-7a2%202%200%200%201%202-2h3'%3e%3c/path%3e%3c/svg%3e";class Hi{constructor({apiUrl:e="",apiKey:t="",model:n=""}){this.abortRequest=()=>{this.abortController.abort(),this.abortController=new AbortController},this.lastMsg=()=>this.messages()[this.messages().length-1],this.scrollToInput=()=>{},this.appendMessage=(o,l="assistant")=>{const[f,h]=Ie(o),[g,p]=Ie([]),[M,R]=Ie([]),L={content:f,setContent:h,steps:g,setSteps:p,role:l,links:M,setLinks:R};this.setMessages(x=>[...x,L])},this.appendContentToLastMsg=(o,l=!1)=>{this.lastMsg().setContent(f=>f+(l?`

`:"")+o),this.onMessageUpdate()},this.appendStepToLastMsg=(o,l,f="",h=[])=>{this.lastMsg().setSteps(g=>[...g,{node_id:o,label:l,details:f,substeps:h}]),this.scrollToInput(),this.onMessageUpdate()},this.apiUrl=e,this.apiKey=t,this.model=n;const[r,i]=Ie([]);this.messages=r,this.setMessages=i,this.abortController=new AbortController,this.onMessageUpdate=()=>{}}}async function Fi(s,e){s.appendMessage(e,"user"),await Gi(s)}async function ji(s,e){if(e.event==="error")throw new Error(`An error occurred. Please try again. ${e.data.error}: ${e.data.message}`);if(e.event==="updates")for(const t of Object.keys(e.data)){const n=e.data[t];if(n){if(n.steps)for(const r of n.steps)r.type==="recall"?s.appendMessage("","assistant"):r.fixed_message&&s.lastMsg().setContent(r.fixed_message),s.appendStepToLastMsg(t,r.label,r.details,r.substeps);n.structured_output&&n.structured_output.sparql_query&&s.lastMsg().setLinks([{url:Ni(n.structured_output.sparql_query,n.structured_output.sparql_endpoint_url),...Mi}])}}if(e.event==="messages"){const[t,n]=e.data;if(n.structured_output_format)return;if(t.content&&t.type==="tool"){const r=t.name?t.name.replace(/_/g," ").replace(/^\w/,o=>o.toUpperCase()):"Tool",i=t.name.includes("resources")?"📚":t.name.includes("execute")?"📡":"🔧";s.appendMessage("","assistant"),s.appendStepToLastMsg(n.langgraph_node,`${i} ${r}`,t.content)}else t.content==="</think>"&&t.type==="AIMessageChunk"?(s.appendContentToLastMsg(t.content),s.appendStepToLastMsg(n.langgraph_node,"💭 Thought process",s.lastMsg().content()),s.lastMsg().setContent("")):t.content&&t.type==="AIMessageChunk"&&n.langgraph_node==="call_model"&&s.appendContentToLastMsg(t.content)}}async function Gi(s){const e=await fetch(`${s.apiUrl}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.apiKey}`},signal:s.abortController.signal,body:JSON.stringify({messages:s.messages().map(({content:i,role:o})=>({content:i(),role:o})),stream:!0,...s.model?{model:s.model}:{}})});s.appendMessage("","assistant");const t=e.body?.getReader(),n=new TextDecoder("utf-8");let r="";for(;;)if(t){const{value:i,done:o}=await t.read();if(o)break;const l=n.decode(i,{stream:!0});r+=l;let f=r.split(`
`);r=f.pop()||"";for(const h of f.filter(g=>g.trim()!=="")){if(h==="data: [DONE]")return;if(h.startsWith("data: "))try{const g=JSON.parse(h.substring(6));ji(s,g)}catch(g){console.log("Error parsing line",g,h)}}}}var qi=xe('<div><style></style><div></div><form class="p-2 flex"><div class="container flex mx-auto max-w-5xl items-start space-x-2"><div class="relative flex-grow"><textarea autofocus class="w-full px-4 pr-14 py-2 h-auto border border-slate-400 bg-slate-200 dark:bg-slate-700 dark:border-slate-500 rounded-3xl focus:outline-none focus:ring focus:ring-blue-200 dark:focus:ring-blue-400 overflow-y-hidden resize-none"placeholder="Ask your question"rows=1></textarea><button type=submit></button></div><div class="flex-shrink-0 self-start mt-1"><button title="Start a new conversation"class="w-8 h-8 flex items-center justify-center rounded-full text-slate-500 bg-slate-100 dark:text-slate-400 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 shadow-sm"type=button aria-label="Start a new conversation"><img alt="Start a new conversation"class="iconBtn w-4 h-4">'),Wi=xe('<div><div><div class="flex flex-col items-start"></div><article class="prose max-w-full">'),Js=xe('<button class="text-gray-600 ml-8 mb-4 px-3 py-1 border border-gray-300 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors">'),Ki=xe('<dialog class="bg-white dark:bg-gray-800 m-3 rounded-3xl shadow-md w-full"><button class="fixed top-2 right-8 m-3 px-2 text-xl text-slate-500 bg-gray-200 dark:bg-gray-700 rounded-3xl"title="Close documents details"><img alt="Close the dialog"class=iconBtn></button><article class="prose max-w-full p-3"><div class="flex space-x-2 mb-4">'),Yi=xe("<button>"),Zi=xe('<article class="prose max-w-full">'),Xi=xe('<dialog class="bg-white dark:bg-gray-800 m-3 rounded-3xl shadow-md w-full"><button class="fixed top-2 right-8 m-3 px-2 text-xl text-slate-500 bg-gray-200 dark:bg-gray-700 rounded-3xl"title="Close step details"><img alt="Close the dialog"class=iconBtn></button><article class="prose max-w-full p-6">'),Vi=xe('<p class="text-gray-400 ml-8 mb-4">'),Qi=xe('<a target=_blank class=hover:text-inherit><button class="my-3 mr-1 px-3 py-1 text-sm bg-gray-300 dark:bg-gray-700 rounded-3xl align-middle">'),Ji=xe('<button class="mr-1 my-3 px-3 py-1 text-sm hover:bg-gray-300 dark:hover:bg-gray-800 rounded-3xl align-middle"title="Report a good response"><img alt="Thumbs up"height=20px width=20px class=iconBtn>'),eo=xe('<button class="my-3 px-3 py-1 text-sm hover:bg-gray-300 dark:hover:bg-gray-800 rounded-3xl align-middle"title="Report a bad response"><img alt="Thumbs down"height=20px width=20px class=iconBtn>'),to=xe('<div class=text-center><div class="bg-orange-300 p-2 text-orange-900 text-sm rounded-3xl font-semibold mb-2 inline-block">'),no=xe('<img alt="Stop generation"class="iconBtn w-4 h-4">'),so=xe('<img alt="Send question"class="iconBtn w-4 h-4">'),ro=xe('<div class="py-2 px-4 justify-center items-center text-sm flex flex-col space-y-2">'),io=xe('<button class="px-5 py-2.5 bg-slate-200 text-slate-600 rounded-3xl">');Mr("chat-with-context",{chatEndpoint:"",examples:"",apiKey:"",feedbackEndpoint:"",model:""},s=>{Ar(),ns.registerLanguage("ttl",Ii),ns.registerLanguage("sparql",$i);const[e,t]=Ie([]),[n,r]=Ie(""),[i,o]=Ie(!1),[l,f]=Ie(""),[h,g]=Ie(""),[p,M]=Ie(""),[R,L]=Ie(!1),x=new Hi({});let Z,te;H.use({gfm:!0}),us(()=>{s.chatEndpoint===""&&r("Please provide an API URL for the chat component to work."),x.apiUrl=s.chatEndpoint,x.apiKey=s.apiKey,x.model=s.model,x.scrollToInput=()=>{},x.onMessageUpdate=()=>I(),t(s.examples.split(",").map(D=>D.trim())),M(s.feedbackEndpoint),Ee()});const ne=D=>{f(D),document.getElementById(D).showModal(),history.pushState({dialogOpen:!0},""),document.body.style.overflow="hidden",I()},j=()=>{document.body.style.overflow="";const D=document.getElementById(l());D&&D.close(),f("")};us(()=>{window.addEventListener("popstate",D=>{l()&&(D.preventDefault(),j())})});const I=()=>{document.querySelectorAll("pre code:not(.hljs)").forEach(D=>{ns.highlightElement(D)})};async function X(D){if(!D.trim()||i())return;te.value="",o(!0),r(""),setTimeout(()=>Ee(),0);const ye=Date.now();try{await Fi(x,D)}catch(de){de instanceof Error&&de.name!=="AbortError"&&(console.error("An error occurred when querying the API:",de),r("An error occurred when querying the API. Please try again or contact an admin."))}o(!1),L(!1),I(),x.scrollToInput(),console.log(`Request completed in ${(Date.now()-ye)/1e3} seconds`)}function ke(D){fetch(p(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({like:D,messages:x.messages().map(ye=>({role:ye.role,content:ye.content(),steps:ye.steps().map(de=>({label:de.label,details:de.details,node_id:de.node_id,substeps:de.substeps}))}))})}),L(!0)}function Ee(){const D=window.scrollX||window.pageXOffset,ye=window.scrollY||window.pageYOffset;te.style.height="auto",te.style.height=te.scrollHeight+"px",window.scrollTo(D,ye),setTimeout(()=>window.scrollTo(D,ye),0)}return(()=>{var D=qi(),ye=D.firstChild,de=ye.nextSibling,le=de.nextSibling,dt=le.firstChild,rt=dt.firstChild,Te=rt.firstChild,it=Te.nextSibling,Vt=rt.nextSibling,Rt=Vt.firstChild,et=Rt.firstChild;ge(ye,Li);var vt=Z;typeof vt=="function"?_s(vt,de):Z=de,ge(de,yt(Tt,{get each(){return x.messages()},children:(A,V)=>(()=>{var F=Wi(),Ae=F.firstChild,G=Ae.firstChild,je=G.nextSibling;return ge(G,yt(Tt,{get each(){return A.steps()},children:(z,Q)=>z.substeps&&z.substeps.length>0?[(()=>{var P=Js();return P.$$click=()=>{g(z.substeps?.[0]?.label||""),ne(`step-dialog-${V()}-${Q()}`)},ge(P,()=>z.label),$e(()=>pe(P,"title",`Click to see the documents used to generate the response

Node: ${z.node_id}`)),P})(),(()=>{var P=Ki(),J=P.firstChild,Ke=J.firstChild,Se=J.nextSibling,Le=Se.firstChild;return P.addEventListener("close",()=>j()),J.$$click=()=>j(),pe(Ke,"src",Qs),ge(Le,yt(Tt,{get each(){return z.substeps.map(q=>q.label)},children:q=>(()=>{var ce=Yi();return ce.$$click=()=>{g(q),I()},pe(ce,"title",`Show ${q}`),ge(ce,q),$e(()=>At(ce,`px-4 py-2 rounded-lg transition-all ${h()===q?"bg-gray-600 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`)),ce})()})),ge(Se,yt(Tt,{get each(){return z.substeps.filter(q=>q.label===h())},children:q=>(()=>{var ce=Zi();return $e(()=>ce.innerHTML=es.sanitize(H.parse(q.details),{ADD_TAGS:["think"]})),ce})()}),null),$e(q=>{var ce=`step-dialog-${V()}-${Q()}`,Ye=`close-dialog-${V()}-${Q()}`;return ce!==q.e&&pe(P,"id",q.e=ce),Ye!==q.t&&pe(J,"id",q.t=Ye),q},{e:void 0,t:void 0}),P})()]:z.details?[(()=>{var P=Js();return P.$$click=()=>{ne(`step-dialog-${V()}-${Q()}`)},ge(P,()=>z.label),$e(()=>pe(P,"title",`Click to see the documents used to generate the response

Node: ${z.node_id}`)),P})(),(()=>{var P=Xi(),J=P.firstChild,Ke=J.firstChild,Se=J.nextSibling;return P.addEventListener("close",()=>j()),J.$$click=()=>j(),pe(Ke,"src",Qs),$e(Le=>{var q=`step-dialog-${V()}-${Q()}`,ce=`close-dialog-${V()}-${Q()}`,Ye=es.sanitize(H.parse(z.details),{ADD_TAGS:["think"]});return q!==Le.e&&pe(P,"id",Le.e=q),ce!==Le.t&&pe(J,"id",Le.t=ce),Ye!==Le.a&&(Se.innerHTML=Le.a=Ye),Le},{e:void 0,t:void 0,a:void 0}),P})()]:(()=>{var P=Vi();return ge(P,()=>z.label),$e(()=>pe(P,"title",`Node: ${z.node_id}`)),P})()})),ge(Ae,yt(Tt,{get each(){return A.links()},children:z=>(()=>{var Q=Qi(),P=Q.firstChild;return ge(P,()=>z.label),$e(J=>{var Ke=z.url,Se=z.title;return Ke!==J.e&&pe(Q,"href",J.e=Ke),Se!==J.t&&pe(Q,"title",J.t=Se),J},{e:void 0,t:void 0}),Q})()}),null),ge(Ae,(()=>{var z=Dt(()=>!!(p()&&A.role==="assistant"&&V()===x.messages().length-1&&x.lastMsg().content()&&!R()));return()=>z()&&[(()=>{var Q=Ji(),P=Q.firstChild;return Q.$$click=()=>ke(!0),pe(P,"src",Ui),Q})(),(()=>{var Q=eo(),P=Q.firstChild;return Q.$$click=()=>ke(!1),pe(P,"src",zi),Q})()]})(),null),$e(z=>{var Q=`w-full flex flex-col flex-grow ${A.role==="user"?"items-end":""}`,P=`py-2.5 mb-2 ${A.role==="user"?"bg-gray-300 rounded-3xl px-5":""}`,J=es.sanitize(H.parse(A.content()),{ADD_TAGS:["think"]});return Q!==z.e&&At(F,z.e=Q),P!==z.t&&At(Ae,z.t=P),J!==z.a&&(je.innerHTML=z.a=J),z},{e:void 0,t:void 0,a:void 0}),F})()})),ge(D,(()=>{var A=Dt(()=>!!n());return()=>A()&&(()=>{var V=to(),F=V.firstChild;return ge(F,n),V})()})(),le),le.addEventListener("submit",A=>{A.preventDefault(),A.type==="submit"&&A.submitter&&i()&&x.abortRequest(),X(te.value)}),Te.$$input=()=>Ee(),Te.$$keydown=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),X(te.value))};var bt=te;return typeof bt=="function"?_s(bt,Te):te=Te,Te.style.setProperty("overflow-anchor","none"),ge(it,(()=>{var A=Dt(()=>!!i());return()=>A()?(()=>{var V=no();return pe(V,"src",Bi),V})():(()=>{var V=so();return pe(V,"src",Di),V})()})()),Rt.$$click=()=>x.setMessages([]),pe(et,"src",Pi),ge(D,(()=>{var A=Dt(()=>x.messages().length<1);return()=>A()&&(()=>{var V=ro();return ge(V,yt(Tt,{get each(){return e()},children:F=>(()=>{var Ae=io();return Ae.$$click=()=>X(F),ge(Ae,F),Ae})()})),V})()})(),null),$e(A=>{var V=`chat-with-context w-full h-full flex flex-col ${x.messages().length===0?"justify-center":""}`,F=`overflow-y-auto ${x.messages().length!==0?"flex-grow":""}`,Ae=i()?"Stop generation":"Send question",G=`absolute right-2 top-1 w-8 h-8 flex items-center justify-center rounded-full text-slate-500 bg-slate-100 dark:text-slate-400 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 shadow-sm ${i()?"loading-spark":""}`,je=i()?"Stop generation":"Send question";return V!==A.e&&At(D,A.e=V),F!==A.t&&At(de,A.t=F),Ae!==A.a&&pe(it,"title",A.a=Ae),G!==A.o&&At(it,A.o=G),je!==A.i&&pe(it,"aria-label",A.i=je),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),D})()}),br(["keydown","input","click"])});
//# sourceMappingURL=chat-with-context.umd.cjs.map
